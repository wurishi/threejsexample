var S=Object.defineProperty;var H=(u,i,e)=>i in u?S(u,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[i]=e;var m=(u,i,e)=>(H(u,typeof i!="symbol"?i+"":i,e),e);import{L as C,F as v,ax as _,ay as y,E as R,S as T,ao as I,av as N,C as x,al as M,X as W,b as g,Y as j,az as G,Z as D}from"./example-e9f3c815.js";import{i as L,r as P}from"./styles-dfc52afc.js";class k extends C{constructor(i){super(i)}load(i,e,t,r){const o=this,n=new v(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(i,function(s){const c=o.parse(JSON.parse(s));e&&e(c)},t,r)}parse(i){return new F(i)}}class F{constructor(i){this.isFont=!0,this.type="Font",this.data=i}generateShapes(i,e=100){const t=[],r=q(i,e,this.data);for(let o=0,n=r.length;o<n;o++)t.push(...r[o].toShapes());return t}}function q(u,i,e){const t=Array.from(u),r=i/e.resolution,o=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*r,n=[];let s=0,c=0;for(let a=0;a<t.length;a++){const E=t[a];if(E===`
`)s=0,c-=o;else{const p=A(E,r,s,c,e);s+=p.offsetX,n.push(p.path)}}return n}function A(u,i,e,t,r){const o=r.glyphs[u]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+u+'" does not exists in font family '+r.familyName+".");return}const n=new _;let s,c,a,E,p,b,l,z;if(o.o){const h=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let d=0,f=h.length;d<f;)switch(h[d++]){case"m":s=h[d++]*i+e,c=h[d++]*i+t,n.moveTo(s,c);break;case"l":s=h[d++]*i+e,c=h[d++]*i+t,n.lineTo(s,c);break;case"q":a=h[d++]*i+e,E=h[d++]*i+t,p=h[d++]*i+e,b=h[d++]*i+t,n.quadraticCurveTo(p,b,a,E);break;case"b":a=h[d++]*i+e,E=h[d++]*i+t,p=h[d++]*i+e,b=h[d++]*i+t,l=h[d++]*i+e,z=h[d++]*i+t,n.bezierCurveTo(p,b,l,z,a,E);break}}return{offsetX:o.ha*i,path:n}}class B extends y{constructor(i,e={}){const t=e.font;if(t===void 0)super();else{const r=t.generateShapes(i,e.size);e.depth=e.height!==void 0?e.height:50,e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),super(r,e)}this.type="TextGeometry"}}const O=1e-6,V=1e27,w=[{size:.01,scale:1e-4,label:"microscopic (1Âµm)"},{size:.01,scale:.1,label:"minuscule (1mm)"},{size:.01,scale:1,label:"tiny (1cm)"},{size:1,scale:1,label:"child-sized (1m)"},{size:10,scale:1,label:"tree-sized (10m)"},{size:100,scale:1,label:"building-sized (100m)"},{size:1e3,scale:1,label:"medium (1km)"},{size:1e4,scale:1,label:"city-sized (10km)"},{size:34e5,scale:1,label:"moon-sized (3,400 Km)"},{size:12e6,scale:1,label:"planet-sized (12,000 km)"},{size:14e8,scale:1,label:"sun-sized (1,400,000 km)"},{size:747e10,scale:1,label:"solar system-sized (50Au)"},{size:94605284e8,scale:1,label:"gargantuan (1 light year)"},{size:308567758e8,scale:1,label:"ludicrous (1 parsec)"},{size:1e19,scale:1,label:"mind boggling (1000 light years)"}];class Z extends R{constructor(){super();m(this,"SCREEN_WIDTH",0);m(this,"SCREEN_HEIGHT",0);m(this,"screensplit",.25);m(this,"screensplit_right",0);m(this,"object",{});m(this,"border");m(this,"createContainer",(e,t)=>{const r=document.createElement("div");return r.id=`container_${t}`,e.appendChild(r),r});m(this,"initScene",e=>{const t=new T;t.add(new I(2236962)),this.scene=t;const r=this.utils.createDirectionalLight(null,[100,100,100]);t.add(r);const o={color:16777215,specular:328965,shininess:50,emissive:0},n=new N(.5,24,12);return w.forEach(s=>{const c=s.scale||1,a=new B(s.label,{font:e,size:s.size,height:s.size/2});a.computeBoundingSphere(),a.translate(-a.boundingSphere.radius,0,0),o.color=new x().setHSL(Math.random(),.5,.5);const E=new M(o),p=new W;p.position.z=-s.size*c,t.add(p);const b=new g(a,E);b.scale.set(c,c,c),b.position.z=-s.size*c,b.position.y=s.size/4*c,p.add(b);const l=new g(n,E);l.position.y=-s.size/4*c,l.scale.multiplyScalar(s.size*c),p.add(l)}),t});m(this,"initView",(e,t,r)=>{const o=this.scene,n=new j(50,this.screensplit*this.SCREEN_WIDTH/this.SCREEN_HEIGHT,O,V);o.add(n);const s=new G({antialias:!0,logarithmicDepthBuffer:r});return s.setPixelRatio(window.devicePixelRatio),s.setSize(this.SCREEN_WIDTH/2,this.SCREEN_HEIGHT),s.domElement.id=`renderer_${t}`,e.appendChild(s.domElement),{container:e,renderer:s,scene:o,camera:n}});m(this,"onResize",()=>{this.updateRendererSizes()});m(this,"updateRendererSizes",()=>{this.SCREEN_WIDTH=window.innerWidth,this.SCREEN_HEIGHT=window.innerHeight,this.screensplit_right=1-this.screensplit;const e=this.object.normal;e&&(e.renderer.setSize(this.screensplit*this.SCREEN_WIDTH,this.SCREEN_HEIGHT),e.camera.aspect=this.screensplit*this.SCREEN_WIDTH/this.SCREEN_HEIGHT,e.camera.updateProjectionMatrix(),e.camera.setViewOffset(this.SCREEN_WIDTH,this.SCREEN_HEIGHT,0,0,this.SCREEN_WIDTH*this.screensplit,this.SCREEN_HEIGHT),e.container.style.width=this.screensplit*100+"%");const t=this.object.logzbuf;t&&(t.renderer.setSize(this.screensplit_right*this.SCREEN_WIDTH,this.SCREEN_HEIGHT),t.camera.aspect=this.screensplit_right*this.SCREEN_WIDTH/this.SCREEN_HEIGHT,t.camera.updateProjectionMatrix(),t.camera.setViewOffset(this.SCREEN_WIDTH,this.SCREEN_HEIGHT,this.SCREEN_WIDTH*this.screensplit,0,this.SCREEN_WIDTH*this.screensplit_right,this.SCREEN_HEIGHT),t.container.style.width=this.screensplit_right*100+"%"),this.border&&(this.border.style.left=this.screensplit*100+"%")});m(this,"zoompos",-100);m(this,"minzoomspeed",.015);m(this,"zoomspeed",.015);m(this,"mouse",[.5,.5]);this.renderer=null}init(e){this.SCREEN_WIDTH=window.innerWidth,this.SCREEN_HEIGHT=window.innerHeight;const{container:t}=e;L(`
      #app {
        display: flex;
        flex-direction: row;
      }

      #container_border {
        position: absolute;
        top: 0;
        left: 25%;
        bottom: 0;
        width: 2px;
        z-index: 10;
        opacity: 0.8;
        background: #ccc;
        border: 1px inset #ccc;
        cursor: col-resize;
      }
    `,"logarithmicdepthbuffer");const r=this.createContainer(t,"normal"),o=this.createContainer(t,"border"),n=l=>{this.screensplit=Math.max(0,Math.min(1,l.clientX/window.innerWidth))},s=()=>{window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",s)},c=()=>{window.addEventListener("pointermove",n),window.addEventListener("pointerup",s)};o.addEventListener("pointerdown",c),this.border=o;const a=this.createContainer(t,"logzbuf");new k().load("/assets/fonts/helvetiker_regular.typeface.json",l=>{this.initScene(l),this.object.normal=this.initView(r,"normal",!1),this.object.logzbuf=this.initView(a,"logzbuf",!0)});const p=l=>{this.mouse[0]=l.clientX/window.innerWidth,this.mouse[1]=l.clientY/window.innerHeight},b=l=>{const z=l.deltaY;if(z===0)return;const h=z/Math.abs(z);this.zoomspeed=h/10,this.minzoomspeed=.001};return window.addEventListener("mousemove",p),window.addEventListener("wheel",b),()=>{P("logarithmicdepthbuffer"),t.removeChild(r),t.removeChild(a),t.removeChild(o),o.removeEventListener("pointerdown",c),Object.keys(this.object).forEach(l=>{const z=this.object[l];z.renderer.dispose(),z.container.removeChild(z.renderer.domElement)}),window.removeEventListener("mousemove",p),window.removeEventListener("wheel",b)}}run(){var a,E;const e=super.run(),t=w[0].size*w[0].scale*1,r=w[w.length-1].size*w[w.length-1].scale*100;let o=Math.abs(this.zoomspeed)>this.minzoomspeed?.95:1;const n=D.clamp(Math.pow(Math.E,this.zoompos),t,r);this.zoompos=Math.log(n),(n===t&&this.zoomspeed<0||n===r&&this.zoomspeed>0)&&(o=.85),this.zoompos+=this.zoomspeed,this.zoomspeed*=o;const s=this.object.normal;s&&(s.camera.position.set(Math.sin(.5*Math.PI*(this.mouse[0]-.5))*n,Math.sin(.25*Math.PI*(this.mouse[1]-.5))*n,Math.cos(.5*Math.PI*(this.mouse[0]-.5))*n),s.camera.lookAt(s.scene.position));const c=this.object.logzbuf;return c&&s&&(c.camera.position.copy(s.camera.position),c.camera.quaternion.copy(s.camera.quaternion)),this.screensplit_right!=1-this.screensplit&&this.object.normal&&this.updateRendererSizes(),(a=this.object.normal)==null||a.renderer.render(this.object.normal.scene,this.object.normal.camera),(E=this.object.logzbuf)==null||E.renderer.render(this.object.logzbuf.scene,this.object.logzbuf.camera),e}}export{Z as default};
